# 自适应文本内容的实现

## 背景
我之前文件管理器的图标视图使用系统提供的style绘制文本，但是效果不佳，自己草草的改了几下人依然不尽人意，最近还由于这些细节问题挨了领导批评，我对qt的怨念又加深了一点，无奈之下我只能另寻它法

## Qt文本处理
虽然Qt提供了文本处理和绘制的机制，说实话不是很好用，虽然在qt中使用一些字体库，比如pango也是一种选择，但是调用三方库进行qt开发也比较麻烦，相较之下还是使用Qt的文本处理方式比较方便。

这个例子展现了如何实现一个自适应的文本区域计算以及绘制的流程，主要利用了QTextLayout以及QTextLine两个类，它主要参考了qt官方文档中的例子，我们可以在qt源码中找到这个例子，它在

> ${top-src-dir}/examples/widgets/widgets/elidedlabel

我把它与itemview的delegate相结合，让它可以绘制限定宽度而高度自适应的viewitem，这里拿出来与大家分享一下。
